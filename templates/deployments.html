{% extends 'base.html' %}

{% block title %}Deployments{% endblock %}

{% block breadcrumb %}
  <li class="breadcrumb-item active">Deployments</li>
{% endblock %}


{% block content %}
<div class="table-responsive">
  <table id="table_id" class="table table-bordered table-sm table-striped">
    <thead class="thead-inverse">
      <tr>
        <th>Deployment#</th>
        <th>Server</th>
        <th>Applications</th>
        <th>Tags</th>
        <th>Product</th>
        <th>Status</th>
        <th>Edit</th>
      </tr>
    </thead>
    <tbody>
      {% for deployment in deployments %}
        <tr>
          <td class="align-middle">{{ deployment.deployment_number }}</td>        
          <td class="align-middle">{{ deployment.server_id }}</td>
          <td class="align-middle">{{ deployment.applications }}</td>
          <td class="align-middle">{{ deployment.tags }}</td>
          <td class="align-middle">{{ deployment.products }}</td>
          {% if deployment.deployment_id in deploymentsetups %}
            <td class="align-middle">Exist</td>
          {% else %}
            <td class="align-middle">New</td>
          {% endif %}
          <td class="align-middle"><a href="/deployment/{{ deployment.deployment_id }}/setup/">
            <svg
              class="fill-current"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              width=16px
              height=16px
            >
              <path
                d="M12.3 3.7l4 4L4 20H0v-4L12.3 3.7zm1.4-1.4L16 0l4 4-2.3 2.3-4-4z"
              />
            </svg>
          </a></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}

{% block javascript %}
  <script type="text/javascript"> 
    $('#table_id').DataTable();
  </script>
{% endblock %}